<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>

<body>
    <div class="container">
        <div class="row">

        </div>
        <button class="btn btn-danger" id="more">더보기</button>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
        crossorigin="anonymous"></script>
    <script>
        var products = [
            { id: 0, price: 70000, title: 'Blossom Dress' },
            { id: 1, price: 50000, title: 'Springfield Shirt' },
            { id: 2, price: 60000, title: 'Black Monastery' }
        ];

        // body태그의 주석처리된 카드 레이아웃을 3개 생성하기
        // $(function () {
        //     for (let i = 0; i < products.length; i++) {
        //         $('.row').eq(0).append(
        //             `<div class="col-sm-4">
        //         <img src="https://placehold.co/600" class="w-100">
        //         <h5>${products[i].title}</h5>
        //         <p>가격 : ${products[i].price}</p>
        //     </div>`
        //         );
        //     }
        // })

        products.forEach(function (a, i) {
            let 템플릿 =
                `<div class="col-sm-4">
                    <img src="https://placehold.co/600" class="w-100">
                    <h5>${a.title}</h5>
                    <p>가격 : ${a.price}</p>
                </div>`;
            $('.row').append(템플릿);
        })
        // 콜백함수의 a는 여기서 products[i]와 동일함
        // a는 각 object가 되는거임 {}, {}, {}가 되어 3개로 forEach 반복
        let btn_click_count = 0;
        $('#more').on('click', function () {
            if (btn_click_count == 0) {
                $.get('https://codingapple1.github.io/js/more1.json')
                    .done(function (data) {
                        // console.log(data)
                        data.forEach(function (a, i) {
                            let 템플릿 =
                                `<div class="col-sm-4">
                                <img src="https://placehold.co/600" class="w-100">
                                <h5>${a.title}</h5>
                                <p>가격 : ${a.price}</p>
                            </div>`;
                            $('.row').append(템플릿);
                        })
                        btn_click_count = btn_click_count + 1;
                        console.log(btn_click_count);
                    })
                    .fail(function () {
                        console.log('실패')
                    })
            } else if (btn_click_count == 1) {
                $.get('https://codingapple1.github.io/js/more2.json')
                    .done(function (data) {
                        // console.log(data)
                        data.forEach(function (a, i) {
                            let 템플릿 =
                                `<div class="col-sm-4">
                                <img src="https://placehold.co/600" class="w-100">
                                <h5>${a.title}</h5>
                                <p>가격 : ${a.price}</p>
                            </div>`;
                            $('.row').append(템플릿);
                        })
                        $('#more').hide();
                        btn_click_count = btn_click_count + 1;
                        console.log(btn_click_count);
                    })
                    .fail(function () {
                        console.log('실패')
                    })
            }

        })


    </script>
</body>

</html>